
<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>day05 - 武沛齐 - 博客园</title>
<link type="text/css" rel="stylesheet" href="/bundles/blog-common.css?v=03KQeESEmpLfzDqUo0NiWUg5Zd5aRam3JHBZTK05Wug1"/>
<link id="MainCss" type="text/css" rel="stylesheet" href="/skins/SimpleBlue/bundle-SimpleBlue.css?v=jJERBFSojhmgst84aaRDal9S3q1WoO-WcNudmMzGJS81"/>
<link type="text/css" rel="stylesheet" href="/blog/customcss/133379.css?v=YSNZANkz7eBKoXq2iHYfghvodkY%3d"/>
<link id="mobile-style" media="only screen and (max-width: 768px)" type="text/css" rel="stylesheet" href="/skins/SimpleBlue/bundle-SimpleBlue-mobile.css?v=BlWRqh78YPBjZE2nsyndTVBgXau6g8pl0IYzREPAN_U1"/>
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/wupeiqi/rss"/>
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/wupeiqi/rsd.xml"/>
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/wupeiqi/wlwmanifest.xml"/>
<script src="//common.cnblogs.com/script/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'wupeiqi', cb_enable_mathjax=false;var isLogined=false;</script>
<script src="/bundles/blog-common.js?v=hH1lCMV8WaIu271Nx7jPuv36TENW9-RsSxziLxUpjtc1" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>

<div id="home">
<div id="header">
	<div id="blogTitle">
		
<!--done-->
<div class="title"><a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cnblogs.com/wupeiqi/">Mr.Seven</a></div>
<div class="subtitle"></div>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li id="nav_sitehome"><a id="blog_nav_sitehome" class="menu" href="http://www.cnblogs.com/">博客园</a></li>
<li id="nav_myhome"><a id="blog_nav_myhome" class="menu" href="http://www.cnblogs.com/wupeiqi/">首页</a></li>
<li id="nav_newpost"><a id="blog_nav_newpost" class="menu" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
<li id="nav_contact"><a id="blog_nav_contact" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/%E6%AD%A6%E6%B2%9B%E9%BD%90">联系</a></li>
<li id="nav_rss"><a id="blog_nav_rss" class="menu" href="http://www.cnblogs.com/wupeiqi/rss">订阅</a>
<!--<a id="blog_nav_rss_image" class="aHeaderXML" href="http://www.cnblogs.com/wupeiqi/rss"><img src="//www.cnblogs.com/images/xml.gif" alt="订阅" /></a>--></li>
<li id="nav_admin"><a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
</ul>

		<div class="blogStats">
			
			<div id="blog_stats">
<!--done-->
随笔-124&nbsp;
文章-127&nbsp;
评论-205&nbsp;
</div>
			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->
<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		
<div id="post_detail">
<!--done-->
<div id="topics">
	<div class = "post">
		<h1 class = "postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/wupeiqi/articles/4198124.html">day05</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body"><p>作业答疑</p>
<p>知识回顾</p>
<ul>
<li>反射</li>
<li>装饰器</li>
<li>面向对象</li>
<li>异常处理</li>
<li>断言</li>
</ul>
<h3>本节内容</h3>
<ul>
<li>知识拾遗</li>
<li>断言</li>
<li>三层架构</li>
<li>python mysql</li>
<li>socket</li>
</ul>
<h3>知识拾遗</h3>
<p>1、什么是类？</p>
<p>2、什么是对象？</p>
<p>3、self是什么？</p>
<p>4、构造函数和析构函数</p>
<p>5、私有和公有</p>
<p>6、动态和静态</p>
<p>7、特性</p>
<p>8、特殊的__init__方法和__call__方法</p>
<p>9、抽象</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('3f498795-557a-4095-a287-6fe9adc60199')"><img id="code_img_closed_3f498795-557a-4095-a287-6fe9adc60199" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_3f498795-557a-4095-a287-6fe9adc60199" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('3f498795-557a-4095-a287-6fe9adc60199',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_3f498795-557a-4095-a287-6fe9adc60199" class="cnblogs_code_hide">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">抽象类、抽象方法</span>
<span style="color: #0000ff;">from</span> abc <span style="color: #0000ff;">import</span><span style="color: #000000;"> ABCMeta, abstractmethod
 
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> Bar:
    </span><span style="color: #800080;">__metaclass__</span> =<span style="color: #000000;"> ABCMeta
 
    @abstractmethod
    </span><span style="color: #0000ff;">def</span> Fun(self):<span style="color: #0000ff;">pass</span>
 
<span style="color: #0000ff;">class</span><span style="color: #000000;"> Foo(Bar):
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">print</span> <span style="color: #800000;">'</span><span style="color: #800000;">__init__</span><span style="color: #800000;">'</span><span style="color: #000000;">
        
Foo()</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<h3>mysql</h3>
<p>Linux</p>
<ul>
<li>安装mysql：&nbsp;apt-get&nbsp;install&nbsp;mysql-server</li>
<li>安装python-mysql模块：apt-get install python-mysqldb</li>
</ul>
<p>Windows</p>
<ul>
<li>下载安装mysql</li>
<li>python操作mysql模块：MySQL-python-1.2.3.win32-py2.7.exe 或&nbsp;MySQL-python-1.2.3.win-amd64-py2.7.exe</li>
<li>mysql图形界面：Navicat_for_MySQL</li>
</ul>
<p>安装完成后，导入MySQLdb测试是否安装成功</p>
<p>数据库：</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('b9ff9665-d685-4768-8681-ef0551a885d2')"><img id="code_img_closed_b9ff9665-d685-4768-8681-ef0551a885d2" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_b9ff9665-d685-4768-8681-ef0551a885d2" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('b9ff9665-d685-4768-8681-ef0551a885d2',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_b9ff9665-d685-4768-8681-ef0551a885d2" class="cnblogs_code_hide">
<pre><span style="color: #000000;">show databases;
use [databasename];
create database  [name];</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>数据表：</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('ba035b36-abc6-42d0-8cc2-435b37cc3b3c')"><img id="code_img_closed_ba035b36-abc6-42d0-8cc2-435b37cc3b3c" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_ba035b36-abc6-42d0-8cc2-435b37cc3b3c" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('ba035b36-abc6-42d0-8cc2-435b37cc3b3c',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_ba035b36-abc6-42d0-8cc2-435b37cc3b3c" class="cnblogs_code_hide">
<pre><span style="color: #000000;">show tables;

create table students
    (
        id int  </span><span style="color: #0000ff;">not</span><span style="color: #000000;"> null auto_increment primary key,
        name char(</span>8) <span style="color: #0000ff;">not</span><span style="color: #000000;"> null,
        sex char(</span>4) <span style="color: #0000ff;">not</span><span style="color: #000000;"> null,
        age tinyint unsigned </span><span style="color: #0000ff;">not</span><span style="color: #000000;"> null,
        tel char(</span>13) null default <span style="color: #800000;">"</span><span style="color: #800000;">-</span><span style="color: #800000;">"</span><span style="color: #000000;">
    );</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>增删改查:</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('c973f2d9-2fb9-4703-b2a2-ef5bfb9ac923')"><img id="code_img_closed_c973f2d9-2fb9-4703-b2a2-ef5bfb9ac923" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_c973f2d9-2fb9-4703-b2a2-ef5bfb9ac923" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('c973f2d9-2fb9-4703-b2a2-ef5bfb9ac923',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_c973f2d9-2fb9-4703-b2a2-ef5bfb9ac923" class="cnblogs_code_hide">
<pre>insert into students(name,sex,age,tel) values(<span style="color: #800000;">'</span><span style="color: #800000;">alex</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">man</span><span style="color: #800000;">'</span>,18,<span style="color: #800000;">'</span><span style="color: #800000;">151515151</span><span style="color: #800000;">'</span><span style="color: #000000;">)

delete </span><span style="color: #0000ff;">from</span> students where id =2<span style="color: #000000;">;

update students set name </span>= <span style="color: #800000;">'</span><span style="color: #800000;">sb</span><span style="color: #800000;">'</span> where id =1<span style="color: #000000;">;

select </span>* <span style="color: #0000ff;">from</span> students</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>MySQLdb</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('57fe182b-edc4-45f2-b242-fa3313f4b9d0')"><img id="code_img_closed_57fe182b-edc4-45f2-b242-fa3313f4b9d0" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_57fe182b-edc4-45f2-b242-fa3313f4b9d0" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('57fe182b-edc4-45f2-b242-fa3313f4b9d0',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_57fe182b-edc4-45f2-b242-fa3313f4b9d0" class="cnblogs_code_hide">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;">coding:utf-8</span>

<span style="color: #0000ff;">import</span><span style="color: #000000;"> MySQLdb

</span><span style="color: #800000;">'''</span><span style="color: #800000;">
conn = MySQLdb.connect(host='127.0.0.1',user='root',passwd='1234',db='07day05db')

cur = conn.cursor()

reCount = cur.execute('insert into UserInfo(Name,Address) values(%s,%s)',('alex','usa'))

conn.commit()

cur.close()
conn.close()

print reCount
</span><span style="color: #800000;">'''</span>

<span style="color: #800000;">'''</span><span style="color: #800000;">
conn = MySQLdb.connect(host='127.0.0.1',user='root',passwd='1234',db='07day05db')

cur = conn.cursor()

reCount = cur.execute('delete from UserInfo')

conn.commit()

cur.close()

conn.close()

print reCount
</span><span style="color: #800000;">'''</span>

<span style="color: #800000;">'''</span><span style="color: #800000;">
conn = MySQLdb.connect(host='127.0.0.1',user='root',passwd='1234',db='07day05db')
cur = conn.cursor()

li =[
     ('alex','usa'),
     ('sb','usa'),
]
reCount = cur.executemany('insert into UserInfo(Name,Address) values(%s,%s)',li)

conn.commit()
cur.close()
conn.close()

print reCount
</span><span style="color: #800000;">'''</span>

<span style="color: #800000;">'''</span><span style="color: #800000;">
conn = MySQLdb.connect(host='127.0.0.1',user='root',passwd='1234',db='07day05db')
cur = conn.cursor()

reCount = cur.execute('update UserInfo set Name = %s',('alin',))

conn.commit()
cur.close()
conn.close()

print reCount
</span><span style="color: #800000;">'''</span>

<span style="color: #800000;">'''</span><span style="color: #800000;">
#fetchone/fetchmany(num)   
conn = MySQLdb.connect(host='127.0.0.1',user='root',passwd='1234',db='07day05db')
cur = conn.cursor()

reCount = cur.execute('select * from UserInfo')

print cur.fetchone()
print cur.fetchone()
cur.scroll(-1,mode='relative')
print cur.fetchone()
print cur.fetchone()
cur.scroll(0,mode='absolute')
print cur.fetchone()
print cur.fetchone()

cur.close()
conn.close()

print reCount
</span><span style="color: #800000;">'''</span>

<span style="color: #008000;">#</span><span style="color: #008000;">fetchall</span>
<span style="color: #000000;">
conn </span>= MySQLdb.connect(host=<span style="color: #800000;">'</span><span style="color: #800000;">127.0.0.1</span><span style="color: #800000;">'</span>,user=<span style="color: #800000;">'</span><span style="color: #800000;">root</span><span style="color: #800000;">'</span>,passwd=<span style="color: #800000;">'</span><span style="color: #800000;">1234</span><span style="color: #800000;">'</span>,db=<span style="color: #800000;">'</span><span style="color: #800000;">07day05db</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008000;">#</span><span style="color: #008000;">cur = conn.cursor(cursorclass = MySQLdb.cursors.DictCursor)</span>
cur =<span style="color: #000000;"> conn.cursor()

reCount </span>= cur.execute(<span style="color: #800000;">'</span><span style="color: #800000;">select Name,Address from UserInfo</span><span style="color: #800000;">'</span><span style="color: #000000;">)

nRet </span>=<span style="color: #000000;"> cur.fetchall()


cur.close()
conn.close()

</span><span style="color: #0000ff;">print</span><span style="color: #000000;"> reCount
</span><span style="color: #0000ff;">print</span><span style="color: #000000;"> nRet
</span><span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span><span style="color: #000000;"> nRet:
    </span><span style="color: #0000ff;">print</span> i[0],i[1]</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p><span style="color: #888888;">注意：cur.lastrowid</span></p>
<p>真实开发中的mysqlhelper怎么写？</p>
<p>三层架构</p>
<h3>socket</h3>
<p>&nbsp;什么是socket</p>
<p>　　所谓socket通常也称作"套接字"，用于描述IP地址和端口，是一个通信链的句柄，应用程序通常通过"套接字"向网络发出请求或者应答网络请求。</p>
<p>　　socket起源于Unix，而Unix/Linux基本哲学之一就是&ldquo;一切皆文件&rdquo;，都可以用&ldquo;打开open &ndash;&gt; 读写write/read &ndash;&gt; 关闭close&rdquo;模式来操作。Socket就是该模式的一个实现，socket即是一种特殊的文件，一些socket函数就是对其进行的操作（读/写IO、打开、关闭）</p>
<p>　　例如：中国移动的客服</p>
<p>　　　　对于移动来：一直在监听一个号码10086，当有电话进来后，就分配一个客服和客户去沟通并处理请求</p>
<p>　　　　 &nbsp; 对于用户：需要知道10086这个号码，并需要打通电话</p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="http://images.cnitblog.com/blog/425762/201501/021241169032248.png" alt="" width="428" height="361" /></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('4803cfec-6ecc-45c7-b1a0-e3b9032fb04f')"><img id="code_img_closed_4803cfec-6ecc-45c7-b1a0-e3b9032fb04f" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_4803cfec-6ecc-45c7-b1a0-e3b9032fb04f" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('4803cfec-6ecc-45c7-b1a0-e3b9032fb04f',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_4803cfec-6ecc-45c7-b1a0-e3b9032fb04f" class="cnblogs_code_hide">
<pre><span style="color: #000000;">import socket

ip_port </span>= (<span style="color: #800000;">'</span><span style="color: #800000;">127.0.0.1</span><span style="color: #800000;">'</span>,<span style="color: #800080;">9999</span><span style="color: #000000;">)

sk </span>=<span style="color: #000000;"> socket.socket()
sk.bind(ip_port)
sk.listen(</span><span style="color: #800080;">1</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">while</span><span style="color: #000000;"> True:
    print </span><span style="color: #800000;">'</span><span style="color: #800000;">waiting...</span><span style="color: #800000;">'</span><span style="color: #000000;">
    conn,addr </span>=<span style="color: #000000;">  sk.accept()
    conn.sendall(</span><span style="color: #800000;">'</span><span style="color: #800000;">欢迎致电10086</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    conn.close()</span></pre>
</div>
<span class="cnblogs_code_collapse">server</span></div>
<div class="cnblogs_code" onclick="cnblogs_code_show('eec8acf6-7aa5-4daf-b178-49d3c7923b30')"><img id="code_img_closed_eec8acf6-7aa5-4daf-b178-49d3c7923b30" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_eec8acf6-7aa5-4daf-b178-49d3c7923b30" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('eec8acf6-7aa5-4daf-b178-49d3c7923b30',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_eec8acf6-7aa5-4daf-b178-49d3c7923b30" class="cnblogs_code_hide">
<pre><span style="color: #0000ff;">import</span><span style="color: #000000;"> socket
ip_port </span>= (<span style="color: #800000;">'</span><span style="color: #800000;">127.0.0.1</span><span style="color: #800000;">'</span>,9999<span style="color: #000000;">)

sk </span>=<span style="color: #000000;"> socket.socket()
sk.connect(ip_port)

data  </span>= sk.recv(1024<span style="color: #000000;">)
sk.close()
</span><span style="color: #0000ff;">print</span> data</pre>
</div>
<span class="cnblogs_code_collapse">client</span></div>
<div class="cnblogs_code" onclick="cnblogs_code_show('7e16e1ac-8ad0-4a86-8c2e-0e6dfcbdf400')"><img id="code_img_closed_7e16e1ac-8ad0-4a86-8c2e-0e6dfcbdf400" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_7e16e1ac-8ad0-4a86-8c2e-0e6dfcbdf400" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('7e16e1ac-8ad0-4a86-8c2e-0e6dfcbdf400',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_7e16e1ac-8ad0-4a86-8c2e-0e6dfcbdf400" class="cnblogs_code_hide">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;">coding:utf-8</span>


<span style="color: #0000ff;">import</span><span style="color: #000000;"> socket

ip_port </span>= (<span style="color: #800000;">'</span><span style="color: #800000;">127.0.0.1</span><span style="color: #800000;">'</span>,9999<span style="color: #000000;">)
sk </span>=<span style="color: #000000;"> socket.socket()
sk.bind(ip_port)
sk.listen(</span>5<span style="color: #000000;">)

</span><span style="color: #0000ff;">while</span><span style="color: #000000;"> True:
    conn,addr </span>=<span style="color: #000000;">  sk.accept()
    conn.sendall(</span><span style="color: #800000;">'</span><span style="color: #800000;">欢迎致电 10086，请输入1xxx,0转人工服务.</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    Flag </span>=<span style="color: #000000;"> True
    </span><span style="color: #0000ff;">while</span><span style="color: #000000;"> Flag:
        data </span>= conn.recv(1024<span style="color: #000000;">)
        </span><span style="color: #0000ff;">if</span> data == <span style="color: #800000;">'</span><span style="color: #800000;">exit</span><span style="color: #800000;">'</span><span style="color: #000000;">:
            Flag </span>=<span style="color: #000000;"> False
        </span><span style="color: #0000ff;">elif</span> data == <span style="color: #800000;">'</span><span style="color: #800000;">0</span><span style="color: #800000;">'</span><span style="color: #000000;">:
            conn.sendall(</span><span style="color: #800000;">'</span><span style="color: #800000;">通过可能会被录音.balabala一大推</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
            conn.sendall(</span><span style="color: #800000;">'</span><span style="color: #800000;">请重新输入.</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    conn.close()</span></pre>
</div>
<span class="cnblogs_code_collapse">10086 server</span></div>
<div class="cnblogs_code" onclick="cnblogs_code_show('3f002738-d9dc-4ce9-af78-dcc999fe1286')"><img id="code_img_closed_3f002738-d9dc-4ce9-af78-dcc999fe1286" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_3f002738-d9dc-4ce9-af78-dcc999fe1286" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('3f002738-d9dc-4ce9-af78-dcc999fe1286',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_3f002738-d9dc-4ce9-af78-dcc999fe1286" class="cnblogs_code_hide">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;">coding:utf-8</span>


<span style="color: #0000ff;">import</span><span style="color: #000000;"> socket
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> sys

ip_port </span>= (<span style="color: #800000;">'</span><span style="color: #800000;">127.0.0.1</span><span style="color: #800000;">'</span>,9999<span style="color: #000000;">)
sk </span>=<span style="color: #000000;"> socket.socket()
sk.connect(ip_port)

</span><span style="color: #0000ff;">while</span><span style="color: #000000;"> True:

    data </span>= sk.recv(1024<span style="color: #000000;">)
    </span><span style="color: #0000ff;">print</span><span style="color: #000000;"> data
    inp </span>= raw_input(<span style="color: #800000;">''</span><span style="color: #000000;">)
    sk.sendall(inp)
    </span><span style="color: #0000ff;">if</span> inp == <span style="color: #800000;">'</span><span style="color: #800000;">exit</span><span style="color: #800000;">'</span><span style="color: #000000;">:
        </span><span style="color: #0000ff;">break</span><span style="color: #000000;">
    
sk.close()</span></pre>
</div>
<span class="cnblogs_code_collapse">10086 client</span></div>
<p>sk = socket.socket(socket.AF_INET,socket.SOCK_STREAM,0)</p>
<p><span style="font-size: 13px;">参数一：地址簇</span></p>
<p><span style="font-size: 13px;">　　socket.AF_INET IPv4（默认）</span><br /><span style="font-size: 13px;">　　socket.AF_INET6 IPv6</span></p>
<p><span style="font-size: 13px;">　　socket.AF_UNIX 只能够用于单一的Unix系统进程间通信</span></p>
<p><span style="font-size: 13px;">参数二：类型</span></p>
<p><span style="font-size: 13px;">　　socket.SOCK_STREAM　　流式socket , for TCP （默认）</span><br /><span style="font-size: 13px;">　　socket.SOCK_DGRAM　　 数据报式socket , for UDP</span></p>
<p><span style="color: #888888; font-size: 13px;">　　socket.SOCK_RAW 原始套接字，普通的套接字无法处理ICMP、IGMP等网络报文，而SOCK_RAW可以；其次，SOCK_RAW也可以处理特殊的IPv4报文；此外，利用原始套接字，可以通过IP_HDRINCL套接字选项由用户构造IP头。</span><br /><span style="color: #888888; font-size: 13px;">　　socket.SOCK_RDM 是一种可靠的UDP形式，即保证交付数据报但不保证顺序。SOCK_RAM用来提供对原始协议的低级访问，在需要执行某些特殊操作时使用，如发送ICMP报文。SOCK_RAM通常仅限于高级用户或管理员运行的程序使用。</span><br /><span style="color: #888888; font-size: 13px;">　　socket.SOCK_SEQPACKET 可靠的连续数据包服务</span></p>
<p><span style="font-size: 13px;">参数三：协议</span></p>
<p><span style="font-size: 13px;">　　0　　（默认）<span style="color: #888888;">与特定的地址家族相关的协议,如果是 0 ，则系统就会根据地址格式和套接类别,自动选择一个合适的协议</span></span></p>
<p><span style="font-size: 13px;">返回值：soket对象</span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('fa8ee397-cabe-484e-9ebd-05223d2b6992')"><img id="code_img_closed_fa8ee397-cabe-484e-9ebd-05223d2b6992" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_fa8ee397-cabe-484e-9ebd-05223d2b6992" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('fa8ee397-cabe-484e-9ebd-05223d2b6992',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_fa8ee397-cabe-484e-9ebd-05223d2b6992" class="cnblogs_code_hide">
<pre><span style="color: #0000ff;">import</span><span style="color: #000000;"> socket
ip_port </span>= (<span style="color: #800000;">'</span><span style="color: #800000;">127.0.0.1</span><span style="color: #800000;">'</span>,9999<span style="color: #000000;">)
sk </span>=<span style="color: #000000;"> socket.socket(socket.AF_INET,socket.SOCK_DGRAM,0)
sk.bind(ip_port)

</span><span style="color: #0000ff;">while</span><span style="color: #000000;"> True:
    data </span>= sk.recv(1024<span style="color: #000000;">)
    </span><span style="color: #0000ff;">print</span><span style="color: #000000;"> data




</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> socket
ip_port </span>= (<span style="color: #800000;">'</span><span style="color: #800000;">127.0.0.1</span><span style="color: #800000;">'</span>,9999<span style="color: #000000;">)

sk </span>=<span style="color: #000000;"> socket.socket(socket.AF_INET,socket.SOCK_DGRAM,0)
</span><span style="color: #0000ff;">while</span><span style="color: #000000;"> True:
    inp </span>= raw_input(<span style="color: #800000;">'</span><span style="color: #800000;">数据：</span><span style="color: #800000;">'</span><span style="color: #000000;">).strip()
    </span><span style="color: #0000ff;">if</span> inp == <span style="color: #800000;">'</span><span style="color: #800000;">exit</span><span style="color: #800000;">'</span><span style="color: #000000;">:
        </span><span style="color: #0000ff;">break</span><span style="color: #000000;">
    sk.sendto(inp,ip_port)

sk.close()</span></pre>
</div>
<span class="cnblogs_code_collapse">udp</span></div>
<p><span style="font-size: 13px;">sk.bind(address)</span></p>
<p><span style="font-size: 13px;">　　s.bind(address) 将套接字绑定到地址。address地址的格式取决于地址族。在AF_INET下，以元组（host,port）的形式表示地址。</span></p>
<p><span style="font-size: 13px;">sk.listen(backlog) </span></p>
<p><span style="font-size: 13px;">　　开始监听传入连接。backlog指定在拒绝连接之前，操作系统可以挂起的最大连接数量。该值至少为1，大部分应用程序设为5就可以了。</span></p>
<p><span style="font-size: 13px;">sk.accept()</span></p>
<p><span style="font-size: 13px;">　　接受连接并返回（conn,address）,其中conn是新的套接字对象，可以用来接收和发送数据。address是连接客户端的地址。</span></p>
<p><span style="font-size: 13px;">　　接收TCP 客户的连接（阻塞式）等待连接的到来</span></p>
<p><span style="font-size: 13px;">sk.connect(address) </span></p>
<p><span style="font-size: 13px;">　　连接到address处的套接字。一般，address的格式为元组（hostname,port）,如果连接出错，返回socket.error错误。</span></p>
<p><span style="font-size: 13px;">sk.connect_ex(address)</span></p>
<p><span style="font-size: 13px;">　　同上，只不过会有返回值，连接成功时返回 0 ，连接失败时候返回编码，例如：10061</span></p>
<p><span style="font-size: 13px;">sk.close() </span></p>
<p><span style="font-size: 13px;">　　关闭套接字</span></p>
<p><span style="font-size: 13px;">sk.recv(bufsize[,flag]) </span></p>
<p><span style="font-size: 13px;">　　接受套接字的数据。数据以字符串形式返回，bufsize指定要接收的最大数据量。flag提供有关消息的其他信息，通常可以忽略。</span></p>
<p><span style="font-size: 13px;">sk.recvfrom(bufsize[.flag]) </span></p>
<p><span style="font-size: 13px;">　　与recv()类似，但返回值是（data,address）。其中data是包含接收数据的字符串，address是发送数据的套接字地址。</span></p>
<p><span style="font-size: 13px;">sk.send(string[,flag]) </span></p>
<p><span style="font-size: 13px;">　　将string中的数据发送到连接的套接字。返回值是要发送的字节数量，该数量可能小于string的字节大小。</span></p>
<p><span style="font-size: 13px;">sk.sendall(string[,flag]) </span></p>
<p><span style="font-size: 13px;">　　将string中的数据发送到连接的套接字，但在返回之前会尝试发送所有数据。成功返回None，失败则抛出异常。</span></p>
<p><span style="font-size: 13px;">sk.sendto(string[,flag],address) </span></p>
<p><span style="font-size: 13px;">　　将数据发送到套接字，address是形式为（ipaddr，port）的元组，指定远程地址。返回值是发送的字节数。该函数主要用于UDP协议。</span></p>
<p><span style="font-size: 13px;">sk.settimeout(timeout) </span></p>
<p><span style="font-size: 13px;">　　设置套接字操作的超时期，timeout是一个浮点数，单位是秒。值为None表示没有超时期。一般，超时期应该在刚创建套接字时设置，因为它们可能用于连接的操作（如connect()）</span></p>
<p><span style="font-size: 13px;">sk.getpeername() </span></p>
<p><span style="font-size: 13px;">　　返回连接套接字的远程地址。返回值通常是元组（ipaddr,port）。</span></p>
<p><span style="font-size: 13px;">sk.getsockname() </span></p>
<p><span style="font-size: 13px;">　　返回套接字自己的地址。通常是一个元组(ipaddr,port)</span></p>
<p><span style="font-size: 13px;">sk.fileno()</span></p>
<p><span style="font-size: 13px;">　　套接字的文件描述符</span></p>
<p>socket应用场景：</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('c69cfaf2-c378-4b20-9d16-42dbb63ff728')"><img id="code_img_closed_c69cfaf2-c378-4b20-9d16-42dbb63ff728" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_c69cfaf2-c378-4b20-9d16-42dbb63ff728" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('c69cfaf2-c378-4b20-9d16-42dbb63ff728',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_c69cfaf2-c378-4b20-9d16-42dbb63ff728" class="cnblogs_code_hide">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;">coding:utf-8</span>
<span style="color: #0000ff;">import</span><span style="color: #000000;"> socket

</span><span style="color: #0000ff;">def</span><span style="color: #000000;"> handle_request(client):
    buf </span>= client.recv(1024<span style="color: #000000;">)
    client.send(</span><span style="color: #800000;">"</span><span style="color: #800000;">HTTP/1.1 200 OK\r\n\r\n</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    client.send(</span><span style="color: #800000;">"</span><span style="color: #800000;">Hello, Woddrld</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">def</span><span style="color: #000000;"> main():
    sock </span>=<span style="color: #000000;"> socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    sock.bind((</span><span style="color: #800000;">'</span><span style="color: #800000;">localhost</span><span style="color: #800000;">'</span>,8080<span style="color: #000000;">))
    sock.listen(</span>5<span style="color: #000000;">)

    </span><span style="color: #0000ff;">while</span><span style="color: #000000;"> True:
        connection, address </span>=<span style="color: #000000;"> sock.accept()
        handle_request(connection)
        connection.close()

</span><span style="color: #0000ff;">if</span> <span style="color: #800080;">__name__</span> == <span style="color: #800000;">'</span><span style="color: #800000;">__main__</span><span style="color: #800000;">'</span><span style="color: #000000;">:
  main()</span></pre>
</div>
<span class="cnblogs_code_collapse">Socket web</span></div>
<p>SocketServer</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('942eb322-4d18-4089-812d-afe92f3a1033')"><img id="code_img_closed_942eb322-4d18-4089-812d-afe92f3a1033" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_942eb322-4d18-4089-812d-afe92f3a1033" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('942eb322-4d18-4089-812d-afe92f3a1033',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_942eb322-4d18-4089-812d-afe92f3a1033" class="cnblogs_code_hide">
<pre><span style="color: #0000ff;">import</span><span style="color: #000000;"> SocketServer


</span><span style="color: #0000ff;">class</span><span style="color: #000000;">  MyServer(SocketServer.BaseRequestHandler):
    
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> setup(self):
        </span><span style="color: #0000ff;">pass</span>

    <span style="color: #0000ff;">def</span><span style="color: #000000;"> handle(self):
        </span><span style="color: #0000ff;">print</span><span style="color: #000000;"> self.request,self.client_address,self.server
        </span><span style="color: #008000;">#</span><span style="color: #008000;">self.request = socket</span>
        <span style="color: #008000;">#
</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> finish(self):
        </span><span style="color: #0000ff;">pass</span>
        
<span style="color: #0000ff;">if</span> <span style="color: #800080;">__name__</span> == <span style="color: #800000;">'</span><span style="color: #800000;">__main__</span><span style="color: #800000;">'</span><span style="color: #000000;">:
    server </span>= SocketServer.ThreadingTCPServer((<span style="color: #800000;">'</span><span style="color: #800000;">127.0.0.1</span><span style="color: #800000;">'</span>,9999<span style="color: #000000;">),MyServer)
    server.serve_forever()</span></pre>
</div>
<span class="cnblogs_code_collapse">server</span></div>
<div class="cnblogs_code" onclick="cnblogs_code_show('16305689-0f87-4eb7-9941-ac0da5ee4280')"><img id="code_img_closed_16305689-0f87-4eb7-9941-ac0da5ee4280" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_16305689-0f87-4eb7-9941-ac0da5ee4280" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('16305689-0f87-4eb7-9941-ac0da5ee4280',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_16305689-0f87-4eb7-9941-ac0da5ee4280" class="cnblogs_code_hide">
<pre><span style="color: #0000ff;">import</span><span style="color: #000000;"> socket

ip_port </span>= (<span style="color: #800000;">'</span><span style="color: #800000;">127.0.0.1</span><span style="color: #800000;">'</span>,9999<span style="color: #000000;">)
</span><span style="color: #0000ff;">while</span><span style="color: #000000;"> True:
    sk </span>=<span style="color: #000000;"> socket.socket()
    sk.connect(ip_port)
    inp </span>= raw_input(<span style="color: #800000;">'</span><span style="color: #800000;">Data:</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    sk.sendall(inp)
    sk.close()</span></pre>
</div>
<span class="cnblogs_code_collapse">client</span></div>
<p>socket传文件</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('0d2b6ea5-031a-4803-8dc9-c25dc5c7e37c')"><img id="code_img_closed_0d2b6ea5-031a-4803-8dc9-c25dc5c7e37c" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_0d2b6ea5-031a-4803-8dc9-c25dc5c7e37c" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('0d2b6ea5-031a-4803-8dc9-c25dc5c7e37c',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_0d2b6ea5-031a-4803-8dc9-c25dc5c7e37c" class="cnblogs_code_hide">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;">coding:utf-8</span>

<span style="color: #0000ff;">import</span><span style="color: #000000;"> SocketServer
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> os

</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> MyServer(SocketServer.BaseRequestHandler):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> handle(self):
        base_path </span>= <span style="color: #800000;">'</span><span style="color: #800000;">G:/temp</span><span style="color: #800000;">'</span><span style="color: #000000;">
        conn </span>=<span style="color: #000000;"> self.request
        </span><span style="color: #0000ff;">print</span> <span style="color: #800000;">'</span><span style="color: #800000;">connected...</span><span style="color: #800000;">'</span>
        <span style="color: #0000ff;">while</span><span style="color: #000000;"> True:
            pre_data </span>= conn.recv(1024<span style="color: #000000;">)
            </span><span style="color: #008000;">#</span><span style="color: #008000;">获取请求方法、文件名、文件大小</span>
            cmd,file_name,file_size = pre_data.split(<span style="color: #800000;">'</span><span style="color: #800000;">|</span><span style="color: #800000;">'</span><span style="color: #000000;">)
            </span><span style="color: #008000;">#</span><span style="color: #008000;">已经接收文件的大小</span>
            recv_size =<span style="color: #000000;"> 0
            </span><span style="color: #008000;">#</span><span style="color: #008000;">上传文件路径拼接</span>
            file_dir =<span style="color: #000000;"> os.path.join(base_path,file_name)
            f </span>= file(file_dir,<span style="color: #800000;">'</span><span style="color: #800000;">wb</span><span style="color: #800000;">'</span><span style="color: #000000;">)
            Flag </span>=<span style="color: #000000;"> True
            </span><span style="color: #0000ff;">while</span><span style="color: #000000;"> Flag:
                </span><span style="color: #008000;">#</span><span style="color: #008000;">未上传完毕，</span>
                <span style="color: #0000ff;">if</span> int(file_size)&gt;<span style="color: #000000;">recv_size:
                    </span><span style="color: #008000;">#</span><span style="color: #008000;">最多接收1024，可能接收的小于1024</span>
                    data = conn.recv(1024<span style="color: #000000;">) 
                    recv_size</span>+=<span style="color: #000000;">len(data)
                </span><span style="color: #008000;">#</span><span style="color: #008000;">上传完毕，则退出循环</span>
                <span style="color: #0000ff;">else</span><span style="color: #000000;">:
                    recv_size </span>=<span style="color: #000000;"> 0
                    Flag </span>=<span style="color: #000000;"> False
                </span><span style="color: #008000;">#</span><span style="color: #008000;">写入文件</span>
<span style="color: #000000;">                f.write(data)
            </span><span style="color: #0000ff;">print</span> <span style="color: #800000;">'</span><span style="color: #800000;">upload successed.</span><span style="color: #800000;">'</span><span style="color: #000000;">
            f.close()
    
instance </span>= SocketServer.ThreadingTCPServer((<span style="color: #800000;">'</span><span style="color: #800000;">127.0.0.1</span><span style="color: #800000;">'</span>,9999<span style="color: #000000;">),MyServer)
instance.serve_forever()</span></pre>
</div>
<span class="cnblogs_code_collapse">server</span></div>
<div class="cnblogs_code" onclick="cnblogs_code_show('8463d634-1224-41ec-823f-1b5d4f36fa41')"><img id="code_img_closed_8463d634-1224-41ec-823f-1b5d4f36fa41" class="code_img_closed" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt="" /><img id="code_img_opened_8463d634-1224-41ec-823f-1b5d4f36fa41" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('8463d634-1224-41ec-823f-1b5d4f36fa41',event)" src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt="" />
<div id="cnblogs_code_open_8463d634-1224-41ec-823f-1b5d4f36fa41" class="cnblogs_code_hide">
<pre><span style="color: #008000;">#</span><span style="color: #008000;">!/usr/bin/env python</span><span style="color: #008000;">
#</span><span style="color: #008000;">coding:utf-8</span>


<span style="color: #0000ff;">import</span><span style="color: #000000;"> socket
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> sys
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> os

ip_port </span>= (<span style="color: #800000;">'</span><span style="color: #800000;">127.0.0.1</span><span style="color: #800000;">'</span>,9999<span style="color: #000000;">)
sk </span>=<span style="color: #000000;"> socket.socket()
sk.connect(ip_port)

container </span>= {<span style="color: #800000;">'</span><span style="color: #800000;">key</span><span style="color: #800000;">'</span>:<span style="color: #800000;">''</span>,<span style="color: #800000;">'</span><span style="color: #800000;">data</span><span style="color: #800000;">'</span>:<span style="color: #800000;">''</span><span style="color: #000000;">}
</span><span style="color: #0000ff;">while</span><span style="color: #000000;"> True:
    input </span>= raw_input(<span style="color: #800000;">'</span><span style="color: #800000;">path:</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    cmd,path </span>= input.split(<span style="color: #800000;">'</span><span style="color: #800000;">|</span><span style="color: #800000;">'</span><span style="color: #000000;">) 
    file_name </span>=<span style="color: #000000;"> os.path.basename(path)
    file_size</span>=<span style="color: #000000;">os.stat(path).st_size
    sk.send(cmd</span>+<span style="color: #800000;">"</span><span style="color: #800000;">|</span><span style="color: #800000;">"</span>+file_name+<span style="color: #800000;">'</span><span style="color: #800000;">|</span><span style="color: #800000;">'</span>+<span style="color: #000000;">str(file_size))
    send_size </span>=<span style="color: #000000;"> 0
    f</span>= file(path,<span style="color: #800000;">'</span><span style="color: #800000;">rb</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    Flag </span>=<span style="color: #000000;"> True
    </span><span style="color: #0000ff;">while</span><span style="color: #000000;"> Flag:
        </span><span style="color: #0000ff;">if</span> send_size + 1024 &gt;<span style="color: #000000;">file_size:
            data </span>= f.read(file_size-<span style="color: #000000;">send_size)
            Flag </span>=<span style="color: #000000;"> False
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
            data </span>= f.read(1024<span style="color: #000000;">)
            send_size</span>+=1024<span style="color: #000000;">
        sk.send(data)
    f.close()
    
sk.close()</span></pre>
</div>
<span class="cnblogs_code_collapse">client</span></div>
<p>&nbsp;</p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory"></div>
<div id="EntryTag"></div>
<div id="blog_post_info">
</div>
<div class="clear"></div>
<div id="post_next_prev"></div>
</div>


		</div>
		<div class = "postDesc">posted @ <span id="post-date">2015-01-02 08:37</span> <a href='http://www.cnblogs.com/wupeiqi/'>武沛齐</a> 阅读(<span id="post_view_count">...</span>) 评论(<span id="post_comment_count">...</span>) &nbsp;<a href="https://i.cnblogs.com/EditArticles.aspx?postid=4198124" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(4198124);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=133379,cb_entryId=4198124,cb_blogApp=currentBlogApp,cb_blogUserGuid='7208b24d-95c9-e111-aa3f-842b2b196315',cb_entryCreatedDate='2015/1/2 8:37:00';loadViewCount(cb_entryId);</script>
	
</div><!--end: topics 文章、评论容器-->
</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id='comment_form' class='commentform'>
<a name='commentform'></a>
<div id='divCommentShow'></div>
<div id='comment_nav'><span id='span_refresh_tips'></span><a href='javascript:void(0);' onclick='return RefreshCommentList();' id='lnk_RefreshComments' runat='server' clientidmode='Static'>刷新评论</a><a href='#' onclick='return RefreshPage();'>刷新页面</a><a href='#top'>返回顶部</a></div>
<div id='comment_form_container'></div>
<div class='ad_text_commentbox' id='ad_text_under_commentbox'></div>
<div id='ad_t2'></div>
<div id='opt_under_post'></div>
<div id='ad_c1' class='c_ad_block'></div>
<div id='under_post_news'></div>
<div id='ad_c2' class='c_ad_block'></div>
<div id='under_post_kb'></div>
<div id='HistoryToday' class='c_ad_block'></div>
<script type='text/javascript'>
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverAdT2();
    deliverAdC1();
    deliverAdC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);   
</script>
</div>


	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="calendar"><div id="blog-calendar" style="display:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script></div>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright &copy;2016 武沛齐
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->
</body>
</html>
